!function(e){function t(t){for(var r,s,a=t[0],c=t[1],u=t[2],f=0,p=[];f<a.length;f++)s=a[f],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(l&&l(t);p.length;)p.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},o={0:0},i=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var a=window.webpackJsonp=window.webpackJsonp||[],c=a.push.bind(a);a.push=t,a=a.slice();for(var u=0;u<a.length;u++)t(a[u]);var l=c;i.push([122,1]),n()}({122:function(e,t,n){n(123),n(125),e.exports=n(126)},123:function(e,t,n){"use strict";n.r(t);n(124);document.querySelector("#contactButton").addEventListener("click",(function(){document.querySelector("contact-modal").open=!0}))},124:function(e,t,n){},125:function(e,t,n){"use strict";n.r(t);var r=n(10);function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function p(e){var t="function"==typeof Map?new Map:void 0;return(p=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return h(e,arguments,b(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)})(e)}function h(e,t,n){return(h=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&d(o,n.prototype),o}).apply(null,arguments)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){function t(){var e;return s(this,t),(e=a(this,b(t).call(this))).close=e.close.bind(c(e)),e.submitForm=e.submitForm.bind(c(e)),e.emitEvent=e.emitEvent.bind(c(e)),e.responseHandler=e.responseHandler.bind(c(e)),e.loader=Object(r.b)("span",{class:"loader"}),e.blackout=Object(r.b)("span",{class:"blackout"}),e}return f(t,e),l(t,[{key:"attributeChangedCallback",value:function(e,t,n){if(t!==n)return this[e]=this.hasAttribute(e)}}],[{key:"observedAttributes",get:function(){return["open","loading"]}}]),l(t,[{key:"connectedCallback",value:function(){var e=this;if(this.isConnected){var t=this.attachShadow({mode:"open"}),n=Object(r.c)("#contact-template"),o=document.importNode(n.content,!0);t.append(o),this.form=Object(r.c)("form",this.shadowRoot),this.fields=Object(r.c)("fieldset",this.shadowRoot),this.content=Object(r.c)(".modal-content",this.shadowRoot),this.closeBtn=Object(r.c)("#close",this.shadowRoot),this.form.addEventListener("submit",(function(t){return e.submitForm(t)})),this.closeBtn.addEventListener("click",this.close),this.addEventListener("contact-loaded",(function(){e.loading=!1})),this.open=this.open}}},{key:"disconnectedCallback",value:function(){var e=this;this.closeBtn.removeEventListener("click",this.close),this.form.removeEventListener("submit",this.submitForm),this.removeEventListener("contact-loaded",(function(){e.loading=!1}))}},{key:"submitForm",value:function(e){var n,r=this;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.preventDefault(),grecaptcha.ready((function(){grecaptcha.execute("6LfxgcsUAAAAACq6d-R8izsfMbDymuSabaewqrAM",{action:"submit"}).then((function(e){var t;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(fetch("http://localhost:5000/auth",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({token:e})}));case 2:return t=n.sent,n.next=5,regeneratorRuntime.awrap(t.json());case 5:if(n.sent.success){n.next=8;break}return n.abrupt("return",alert("It seems that Google thinks you are a bot"));case 8:case"end":return n.stop()}}))}))})),this.fields.disabled=!0,this.loading){o.next=16;break}return this.loading=!0,o.next=7,regeneratorRuntime.awrap(this.validateFields());case 7:if(!0!==(n=o.sent)){o.next=12;break}this.sendForm(),o.next=14;break;case 12:return t.prototype.response=n,o.abrupt("return",setTimeout((function(){return r.emitEvent("response-ready")}),2e3));case 14:o.next=17;break;case 16:return o.abrupt("return");case 17:case"end":return o.stop()}}),null,this)}},{key:"validateFields",value:function(){var e,t,n,o,i,s,a,c,u,l;return regeneratorRuntime.async((function(f){for(;;)switch(f.prev=f.next){case 0:e=this.fields.children,t=[],n=!0,o=!1,i=void 0,f.prev=5,s=e[Symbol.iterator]();case 7:if(n=(a=s.next()).done){f.next=24;break}if("submit"!==(c=a.value).getAttribute("type")){f.next=11;break}return f.abrupt("continue",21);case 11:if(u=c.hasAttribute("fieldType")?Object(r.c)(c.getAttribute("fieldType"),c.shadowRoot):Object(r.c)("input",c.shadowRoot),l=new RegExp(c.getAttribute("regex")),!c.hasAttribute("failed")){f.next=15;break}return f.abrupt("continue",21);case 15:if(u.value){f.next=18;break}return t.push({field:c.getAttribute("name"),error:"Must be at least 3 characters"}),f.abrupt("continue",21);case 18:if(l.test(u.value)){f.next=21;break}return t.push({field:c.getAttribute("name"),error:"Illegal character detected"}),f.abrupt("continue",21);case 21:n=!0,f.next=7;break;case 24:f.next=30;break;case 26:f.prev=26,f.t0=f.catch(5),o=!0,i=f.t0;case 30:f.prev=30,f.prev=31,n||null==s.return||s.return();case 33:if(f.prev=33,!o){f.next=36;break}throw i;case 36:return f.finish(33);case 37:return f.finish(30);case 38:return f.abrupt("return",!t[0]||t);case 39:case"end":return f.stop()}}),null,this,[[5,26,30,38],[31,,33,37]])}},{key:"sendForm",value:function(){var e,n,o,i,s,a,c,u,l,f,p;return regeneratorRuntime.async((function(h){for(;;)switch(h.prev=h.next){case 0:e={},h.prev=1,n=!0,o=!1,i=void 0,h.prev=5,s=this.fields.children[Symbol.iterator]();case 7:if(n=(a=s.next()).done){h.next=18;break}if("submit"!==(c=a.value).type){h.next=11;break}return h.abrupt("continue",15);case 11:if((u=c.hasAttribute("fieldType")?Object(r.c)(c.getAttribute("fieldType"),c.shadowRoot):Object(r.c)("input",c.shadowRoot)).value&&u.name){h.next=14;break}return h.abrupt("continue",15);case 14:e[u.name]=u.value;case 15:n=!0,h.next=7;break;case 18:h.next=24;break;case 20:h.prev=20,h.t0=h.catch(5),o=!0,i=h.t0;case 24:h.prev=24,h.prev=25,n||null==s.return||s.return();case 27:if(h.prev=27,!o){h.next=30;break}throw i;case 30:return h.finish(27);case 31:return h.finish(24);case 32:return l=this.form.getAttribute("action"),h.next=35,regeneratorRuntime.awrap(fetch(l,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}));case 35:return f=h.sent,h.next=38,regeneratorRuntime.awrap(f.json());case 38:return p=h.sent,t.prototype.response=p,h.abrupt("return",this.emitEvent("response-ready"));case 43:return h.prev=43,h.t1=h.catch(1),t.prototype.response=h.t1,h.abrupt("return",this.emitEvent("response-ready"));case 47:case"end":return h.stop()}}),null,this,[[1,43],[5,20,24,32],[25,,27,31]])}},{key:"emitEvent",value:function(e){var t=new CustomEvent(e);return this.dispatchEvent(t)}},{key:"responseHandler",value:function(){return this.response[0]&&this.response[0].error?(this.loader.classList.add("fail"),this.formResponder(),t.prototype.response=void 0,void(this.loading=!1)):this.response.success?(this.loader.classList.add("success"),this.form.reset(),t.prototype.response=void 0,void(this.loading=!1)):(this.loader.classList.add("fail"),t.prototype.response=void 0,void(this.loading=!1))}},{key:"formResponder",value:function(){var e=!0,t=!1,n=void 0;try{for(var o,i=this.response[Symbol.iterator]();!(e=(o=i.next()).done);e=!0){var s=o.value;Object(r.c)('[name="'.concat(s.field,'"]'),this.shadowRoot).setAttribute("failed","")}}catch(s){t=!0,n=s}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}},{key:"_watchEscape",value:function(e){"Escape"===e.key&&this.close()}},{key:"close",value:function(){!1!==this.open&&(this.open=!1);var e=new CustomEvent("modal-closed");this.dispatchEvent(e)}},{key:"open",get:function(){return this.hasAttribute("open")},set:function(e){this.shadowRoot.querySelector(".wrapper").classList.toggle("open",e),this.shadowRoot.querySelector(".wrapper").setAttribute("aria-hidden",!e),e?(this._wasFocused=document.activeElement,this.setAttribute("open",""),this.addEventListener("keydown",this._watchEscape),this.focus()):(this._wasFocused&&this._wasFocused.focus&&this._wasFocused.focus(),this.removeAttribute("open"),this.removeEventListener("keydown",this._watchEscape),this.close())}},{key:"loading",get:function(){return this.hasAttribute("loading")},set:function(e){var t=this;e?(this.setAttribute("loading",""),this.addEventListener("response-ready",this.responseHandler),Object(r.a)([this.loader,this.blackout],this.shadowRoot)):(this.removeEventListener("response-ready",this.responseHandler),this.removeAttribute("loading"),setTimeout((function(){t.loader.classList="loader",t.loader.remove(),t.blackout.remove(),t.fields.disabled=!1}),1500))}}]),t}(p(HTMLElement)),m=function(e){function t(){var e;return s(this,t),(e=a(this,b(t).call(this))).refresh=e.refresh.bind(c(e)),e.tooltip=Object(r.b)("span",{class:"tooltip"}),e}return f(t,e),l(t,[{key:"attributeChangedCallback",value:function(e,t,n){t!==n&&(this[e]=this.hasAttribute(e))}},{key:"connectedCallback",value:function(){if(this.isConnected){var e=Object(r.b)("style");e.innerHTML="\n              .tooltip {\n                background: #322e2e;\n                color: white;\n                position: absolute;\n                font-size: 1rem;\n                border-radius: 0.8rem;\n                cursor: pointer;\n                -webkit-transition: 0.3s;\n                transition: 0.3s;\n                top: 0%;\n                left: 50%;\n                content: '';\n                -webkit-transform: translate(-50%, -100%);\n                        transform: translate(-50%, -100%);\n                padding: 0.6rem;\n              }\n              \n              .tooltip::after {\n                position: absolute;\n                bottom: -1rem;\n                left: 50%;\n                background-color: #322e2e;\n                content: '';\n                width: 1rem;\n                height: 1rem;\n                -webkit-transform: rotate(45deg) translateX(-75%);\n                        transform: rotate(45deg) translateX(-75%);\n              }\n              \n              .tooltip:hover {\n                -webkit-box-shadow: 0.2rem 0.2rem 0.4rem 0.2rem rgba(204, 0, 0, 0.3);\n                        box-shadow: 0.2rem 0.2rem 0.4rem 0.2rem rgba(204, 0, 0, 0.3);\n              }\n              \n              textarea {\n                resize: none;\n                width: calc(100% - 8rem); }\n              \n              input,\n              textarea {\n                -webkit-appearance: none;\n                -moz-appearance: none;\n                appearance: none;\n                padding: 1rem;\n                font-size: 1.5rem;\n                border-radius: 1rem 0 1rem 0;\n                border: 0.1rem solid rgba(0, 0, 0, 0.3);\n                margin: 1rem;\n                -webkit-transition: 0.4s;\n                transition: 0.4s; }\n                input[type=text]:-internal-autofill-selected {\n                    background: red;\n                }";var t=this.attachShadow({mode:"open"});t.append(e),this.elem=this.makeInput(this.hasAttribute("fieldType")?this.getAttribute("fieldType"):"input"),Object(r.a)([this.elem],t),this.elem.addEventListener("click",this.refresh),this.elem.addEventListener("focus",this.refresh)}}},{key:"refresh",value:function(){this.failed=!1}},{key:"disconnectedCallback",value:function(){this.elem.removeEventListener("click",this.refresh),this.elem.removeEventListener("focus",this.refresh),this.removeEventListener("click",this.removeTooltip)}},{key:"makeInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"input",t=document.createElement(e),n=!0,r=!1,o=void 0;try{for(var i,s=this.attributes[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){var a=i.value;t.setAttribute(a.name,a.value)}}catch(e){r=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}return t}},{key:"respondToForm",value:function(){var e=this,n=o(b(t.prototype),"response",this).filter((function(t){return t.field===e.getAttribute("name")}));this.tooltip.innerHTML=n[0].error,Object(r.a)([this.tooltip],this.shadowRoot),this.tooltip.addEventListener("click",this.removeTooltip)}},{key:"removeTooltip",value:function(){this.remove(),this.removeEventListener("click",this.removeTooltip)}},{key:"failed",get:function(){return this.hasAttribute("failed")},set:function(e){e?(this.elem.blur(),this.setAttribute("failed",""),this.elem.style="background: rgba(204,0,0,0.1);",this.respondToForm()):(this.elem.style="",this.removeAttribute("failed"),this.tooltip.remove())}}],[{key:"observedAttributes",get:function(){return["failed"]}}]),t}(v);customElements.define("contact-modal",v),customElements.define("contact-input",m)}});